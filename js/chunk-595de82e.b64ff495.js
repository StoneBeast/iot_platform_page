(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-595de82e"],{"1bc5":function(e,t,c){},2896:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,c=[],a=0;a<e.rangeCount;a++)c.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||c.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},"6adc":function(e,t,c){"use strict";var a=c("2896"),n={"text/plain":"Text","text/html":"Url",default:"Text"},o="Copy to clipboard: #{key}, Enter";function i(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function d(e,t){var c,d,r,l,u,s,b=!1;t||(t={}),c=t.debug||!1;try{r=a(),l=document.createRange(),u=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),"undefined"===typeof a.clipboardData){c&&console.warn("unable to use e.clipboardData"),c&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=n[t.format]||n["default"];window.clipboardData.setData(o,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))})),document.body.appendChild(s),l.selectNodeContents(s),u.addRange(l);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");b=!0}catch(v){c&&console.error("unable to copy using execCommand: ",v),c&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),b=!0}catch(v){c&&console.error("unable to copy using clipboardData: ",v),c&&console.error("falling back to prompt"),d=i("message"in t?t.message:o),window.prompt(d,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(l):u.removeAllRanges()),s&&document.body.removeChild(s),r()}return b}e.exports=d},"7b4b":function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"g",(function(){return o})),c.d(t,"f",(function(){return i})),c.d(t,"h",(function(){return d})),c.d(t,"d",(function(){return r})),c.d(t,"c",(function(){return l})),c.d(t,"i",(function(){return u})),c.d(t,"e",(function(){return s})),c.d(t,"a",(function(){return b}));var a=c("a27e");function n(e){return Object(a["a"])({url:"/api/data/addDevice",method:"POST",data:e})}function o(e){return Object(a["a"])({url:"/api/data/fetchDeviceList",method:"GET",params:e})}function i(e){return Object(a["a"])({url:"/api/data/fetchDeviceInfo",method:"GET",params:e})}function d(e){return Object(a["a"])({url:"/api/data/fetchDeviceStatus",method:"POST",data:e})}function r(e){return Object(a["a"])({url:"/api/data/deviceDataUploadInfo",method:"GET",params:e})}function l(e){return Object(a["a"])({url:"/api/data/deleteDevice",method:"DELETE",params:e})}function u(e){return Object(a["a"])({url:"/api/data/sendCommand",method:"POST",data:e})}function s(e){return Object(a["a"])({url:"/api/data/fetchCommandList",method:"GET",params:e})}function b(e){return Object(a["a"])({url:"/api/data/addApiKey",month:"GET",params:e})}},"9ab1":function(e,t,c){"use strict";c("1bc5")},cced:function(e,t,c){"use strict";var a=c("3eb2"),n=c("815d"),o=c("7b4b"),i=c("3df8");const d=Object(a["createElementVNode"])("hr",{color:"#e8eaec"},null,-1),r={style:{flex:"auto"}},l=Object(a["createTextVNode"])("取消"),u=Object(a["createTextVNode"])("确定");var s={__name:"editDrawer",props:{drawerSwitch:{type:Boolean,default:!0},drawerTitle:{type:String,default:"default_title"},deviceEditData:{type:Object,default(){return{}}}},emits:["onUpdated"],setup(e,{emit:t}){const c=e,s=Object(a["ref"])(!1),b=Object(a["ref"])(null),p=Object(a["ref"])("添加设备成功");Object(a["watch"])(()=>c.drawerSwitch,()=>{"{}"!==JSON.stringify(c.deviceEditData)?(m.deviceName=c.deviceEditData.deviceName,m.deviceAuthentication=c.deviceEditData.deviceAuthentication,m.deviceIntroduction=c.deviceEditData.deviceIntroduction,m.deviceId=c.deviceEditData.deviceId,p.value="更新信息成功"):(m.deviceId="",m.deviceName="",m.deviceAuthentication="",m.deviceIntroduction="",p.value="添加设备成功"),s.value=!0});const v=Object(n["a"])(),m=Object(a["reactive"])({productId:v.productId,deviceId:"",deviceName:"",deviceAuthentication:"",deviceIntroduction:""}),f=Object(a["reactive"])({deviceName:[{required:!0,message:"设备名不能为空",trigger:"blur"},{min:1,max:20,message:"长度须为1-20",trigger:"blur"}],deviceAuthentication:[{required:!0,message:"设备鉴权信息不能为空",trigger:"blur"},{min:6,max:24,message:"长度须为6-24",trigger:"blur"}],deviceIntroduction:[{min:0,max:50,message:"长度不能超过50个字符",trigger:"blur"}]});function O(){t("onUpdated")}const j=Object(a["ref"])(!1);function y(e){s.value=!1,j.value=!1,e.resetFields()}function h(){b.value.validate(e=>{e&&(j.value=!0,Object(o["b"])(m).then(e=>{200===e.code?(Object(i["a"])({type:"success",message:p.value}),O(),s.value=!1):Object(i["a"])({type:"error",message:"未知错误"})},()=>{Object(i["a"])({type:"error",message:"网络错误"})}).finally(()=>{j.value=!1}))})}return(t,c)=>{const n=Object(a["resolveComponent"])("el-input"),o=Object(a["resolveComponent"])("el-form-item"),i=Object(a["resolveComponent"])("el-form"),p=Object(a["resolveComponent"])("el-button"),v=Object(a["resolveComponent"])("el-drawer");return Object(a["openBlock"])(),Object(a["createBlock"])(v,{modelValue:s.value,"onUpdate:modelValue":c[4]||(c[4]=e=>s.value=e)},{header:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("h2",null,Object(a["toDisplayString"])(e.drawerTitle),1),d])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{ref_key:"deviceForm",ref:b,model:m,rules:f,"label-position":"top"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(o,{label:"设备名称",prop:"deviceName"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(n,{modelValue:m.deviceName,"onUpdate:modelValue":c[0]||(c[0]=e=>m.deviceName=e),placeholder:"1-20个字符"},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(o,{label:"鉴权信息",prop:"deviceAuthentication"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(n,{modelValue:m.deviceAuthentication,"onUpdate:modelValue":c[1]||(c[1]=e=>m.deviceAuthentication=e),placeholder:"6-24个字符"},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(o,{label:"设备描述",prop:"deviceIntroduction"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(n,{modelValue:m.deviceIntroduction,"onUpdate:modelValue":c[2]||(c[2]=e=>m.deviceIntroduction=e),placeholder:"1-50个字符"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),footer:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",r,[Object(a["createVNode"])(p,{onClick:c[3]||(c[3]=e=>y(b.value))},{default:Object(a["withCtx"])(()=>[l]),_:1}),Object(a["createVNode"])(p,{type:"primary",loading:j.value,onClick:h},{default:Object(a["withCtx"])(()=>[u]),_:1},8,["loading"])])]),_:1},8,["modelValue"])}}};const b=s;t["a"]=b},e82d:function(e,t,c){"use strict";c.r(t);var a=c("3eb2"),n=c("7b4b"),o=c("815d"),i=c("3df8"),d=c("cced"),r=c("6adc"),l=c.n(r);const u=e=>(Object(a["pushScopeId"])("data-v-04297d68"),e=e(),Object(a["popScopeId"])(),e),s={id:"device-info-container"},b={class:"context-container"},p={id:"container-header"},v={id:"text-title-container-header"},m=Object(a["createTextVNode"])("编辑"),f={id:"container-body"},O={style:{"list-style":"none"}},j=u(()=>Object(a["createElementVNode"])("p",{class:"text-title-info text-info-list"},"设备ID",-1)),y={class:"text-value-info text-info-list"},h=Object(a["createTextVNode"])("复制"),x=u(()=>Object(a["createElementVNode"])("p",{class:"text-title-info text-info-list"},"设备名称",-1)),g={class:"text-value-info text-info-list"},N=Object(a["createTextVNode"])("复制"),V=u(()=>Object(a["createElementVNode"])("p",{class:"text-title-info text-info-list"},"鉴权信息",-1)),w={class:"text-value-info text-info-list"},E=Object(a["createTextVNode"])("复制"),I=u(()=>Object(a["createElementVNode"])("p",{class:"text-title-info text-info-list"},"API地址",-1)),C={class:"text-value-info text-info-list"},D=Object(a["createTextVNode"])("复制"),k=u(()=>Object(a["createElementVNode"])("p",{class:"text-title-info text-info-list"},"APIKey",-1)),S={key:0,class:"text-value-info text-info-list"},A=Object(a["createTextVNode"])("复制"),T=Object(a["createTextVNode"])("添加ApiKey"),_=u(()=>Object(a["createElementVNode"])("p",{class:"text-title-info text-info-list"},"设备描述",-1)),U={class:"text-value-info text-info-list"},B=u(()=>Object(a["createElementVNode"])("div",{class:"context-container"}," 使用说明 ",-1));var K={__name:"deviceInfo",setup(e){const t=Object(a["ref"])(!1),c=Object(a["reactive"])({deviceId:"",deviceName:"",createDate:"",deviceAuthentication:"",deviceStatus:"",deviceAPI:"",apiKey:"",deviceIntroduction:""}),r=Object(o["a"])(),u=Object(a["computed"])(()=>"离线"===c.deviceStatus?"tag-offline-status":"tag-online-status");function K(){t.value=!0,Object(n["f"])({productId:r.productId,deviceId:r.deviceId}).then(e=>{200===e.code?(c.deviceId=e.data.deviceId,c.deviceName=e.data.deviceName,c.createDate=e.data.createDate,c.deviceAuthentication=e.data.deviceAuthentication,c.deviceStatus=e.data.deviceStatus,c.deviceAPI=e.data.deviceAPI,c.apiKey=e.data.apiKey,c.deviceIntroduction=e.data.deviceIntroduction):Object(i["a"])({type:"error",message:e.message})},()=>{Object(i["a"])({type:"error",message:"网络错误"})}).finally(()=>{t.value=!1})}const P=Object(a["ref"])(!1);function R(){P.value=!P.value}function G(e){l()(e),Object(i["a"])({type:"success",message:"复制成功"})}let L;function J(){Object(n["h"])({productId:r.productId,deviceId:[c.deviceId]}).then(e=>{200===e.code&&(c.deviceStatus=e.data[0].deviceStatus)})}function q(){t.value=!0,Object(n["a"])({productId:r.productId,deviceId:c.deviceId}).then(e=>{200===e.code&&(Object(i["a"])({type:"success",message:"添加成功"}),c.apiKey=e.data.apiKey)},()=>{Object(i["a"])({type:"error",message:"网络错误"})}).finally(()=>{t.value=!1})}return K(),Object(a["onMounted"])(()=>{L=setInterval(J,8e3)}),Object(a["onUnmounted"])(()=>{clearInterval(L)}),(e,n)=>{const o=Object(a["resolveComponent"])("el-button"),i=Object(a["resolveDirective"])("loading");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("div",b,[Object(a["createVNode"])(Object(a["unref"])(d["a"]),{"drawer-switch":P.value,"drawer-title":"编辑设备信息","device-edit-data":c,onOnUpdated:K},null,8,["drawer-switch","device-edit-data"]),Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("span",v,Object(a["toDisplayString"])(c.deviceName),1),Object(a["createElementVNode"])("div",{id:"tag-device-status",class:Object(a["normalizeClass"])(Object(a["unref"])(u))},Object(a["toDisplayString"])(c.deviceStatus),3),Object(a["createVNode"])(o,{link:"",type:"primary",onClick:R},{default:Object(a["withCtx"])(()=>[m]),_:1})]),Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("ul",O,[Object(a["createElementVNode"])("li",null,[j,Object(a["createElementVNode"])("p",y,Object(a["toDisplayString"])(c.deviceId),1),Object(a["createVNode"])(o,{link:"",type:"primary",onClick:n[0]||(n[0]=e=>G(c.deviceId))},{default:Object(a["withCtx"])(()=>[h]),_:1})]),Object(a["createElementVNode"])("li",null,[x,Object(a["createElementVNode"])("p",g,Object(a["toDisplayString"])(c.deviceName),1),Object(a["createVNode"])(o,{link:"",type:"primary",onClick:n[1]||(n[1]=e=>G(c.deviceName))},{default:Object(a["withCtx"])(()=>[N]),_:1})]),Object(a["createElementVNode"])("li",null,[V,Object(a["createElementVNode"])("p",w,Object(a["toDisplayString"])(c.deviceAuthentication),1),Object(a["createVNode"])(o,{link:"",type:"primary",onClick:n[2]||(n[2]=e=>G(c.deviceAuthentication))},{default:Object(a["withCtx"])(()=>[E]),_:1})]),Object(a["createElementVNode"])("li",null,[I,Object(a["createElementVNode"])("p",C,Object(a["toDisplayString"])(c.deviceAPI),1),Object(a["createVNode"])(o,{link:"",type:"primary",onClick:n[3]||(n[3]=e=>G(c.deviceAPI))},{default:Object(a["withCtx"])(()=>[D]),_:1})]),Object(a["createElementVNode"])("li",null,[k,c.apiKey?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",S,Object(a["toDisplayString"])(c.apiKey),1)):Object(a["createCommentVNode"])("",!0),c.apiKey?(Object(a["openBlock"])(),Object(a["createBlock"])(o,{key:1,link:"",type:"primary",onClick:n[4]||(n[4]=e=>G(c.apiKey))},{default:Object(a["withCtx"])(()=>[A]),_:1})):(Object(a["openBlock"])(),Object(a["createBlock"])(o,{key:2,link:"",type:"primary",onClick:q},{default:Object(a["withCtx"])(()=>[T]),_:1}))]),Object(a["createElementVNode"])("li",null,[_,Object(a["createElementVNode"])("p",U,Object(a["toDisplayString"])(c.deviceIntroduction),1)])])])])),[[i,t.value]]),B])}}},P=(c("9ab1"),c("6dd4")),R=c.n(P);const G=R()(K,[["__scopeId","data-v-04297d68"]]);t["default"]=G}}]);
//# sourceMappingURL=chunk-595de82e.b64ff495.js.map