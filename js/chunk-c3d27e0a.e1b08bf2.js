(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3d27e0a"],{"0114":function(e,t,c){"use strict";c("1a67")},1602:function(e,t,c){"use strict";c.d(t,"d",(function(){return r})),c.d(t,"c",(function(){return a})),c.d(t,"b",(function(){return n})),c.d(t,"a",(function(){return l})),c.d(t,"e",(function(){return d}));var o=c("a27e");function r(e){return Object(o["a"])({url:"/api/user/login",method:"POST",data:e})}function a(){return Object(o["a"])({url:"api/user/getUserInfo",method:"GET"})}function n(e){return Object(o["a"])({url:"/api/user/getEmailCode",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/api/user/emailLogin",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/api/user/register",method:"POST",data:e})}},"1a67":function(e,t,c){},2095:function(e,t,c){"use strict";function o(e,t="YY-MM-DD hh:mm:ss"){const c=new Date(e),o=c.getFullYear(),r=c.getMonth()+1,a=c.getDate(),n=c.getHours(),l=c.getMinutes(),d=c.getSeconds(),u=Array.apply(null,Array(10)).map((function(e,t){return"0"+t}));return t.replace(/YY/g,o).replace(/MM/g,u[r]||r).replace(/DD/g,u[a]||a).replace(/hh/g,u[n]||n).replace(/mm/g,u[l]||l).replace(/ss/g,u[d]||d)}c.d(t,"a",(function(){return o}))},"2c28":function(e,t,c){"use strict";c.d(t,"f",(function(){return r})),c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return n})),c.d(t,"e",(function(){return l})),c.d(t,"d",(function(){return d})),c.d(t,"c",(function(){return u})),c.d(t,"g",(function(){return i}));var o=c("a27e");function r(e){return Object(o["a"])({url:"/api/data/fetchProductList",method:"GET",params:e})}function a(e){return Object(o["a"])({url:"/api/data/addUpdateProduct",method:"POST",data:e})}function n(e){return Object(o["a"])({url:"/api/data/deleteProduct",method:"DELETE",params:e})}function l(e){return Object(o["a"])({url:"/api/data/fetchProductData",method:"GET",params:e})}function d(){return Object(o["a"])({url:"/api/data/fetchEditOptions",method:"GET"})}function u(e){return Object(o["a"])({url:"/api/data/fetchConnectedDevice",method:"GET",params:e})}function i(e){return Object(o["a"])({url:"/api/data/fetchUploadDeviceCount",method:"GET",params:e})}},3016:function(e,t,c){"use strict";c("87a8")},"307c":function(e,t,c){"use strict";c("f059")},"34e1":function(e,t,c){"use strict";var o=c("3eb2"),r=c("5500");const a={id:"header"},n={id:"back-icon"},l={id:"avatar",class:"slot"};var d={__name:"layoutHeader",setup(e){const t=Object(r["d"])();function c(){t.push({name:"login"})}return(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createElementVNode"])("div",n,[Object(o["renderSlot"])(e.$slots,"backIcon")]),Object(o["createElementVNode"])("div",{id:"icon-logo",class:"slot"},[Object(o["createElementVNode"])("img",{src:"https://img1.imgtp.com/2022/10/15/TP8TMu93.png",alt:"logo",height:"48",width:"78",onClick:c})]),Object(o["createElementVNode"])("div",l,[Object(o["renderSlot"])(e.$slots,"avatar")])]))}},u=(c("307c"),c("6dd4")),i=c.n(u);const s=i()(d,[["__scopeId","data-v-89c18978"]]);t["a"]=s},"84e7":function(e,t,c){"use strict";var o=c("3eb2"),r=c("34e1"),a=c("2147"),n=c("5500"),l=c("a18c"),d=c("3df8"),u=c("1602");const i={style:{"text-align":"center",color:"#8cbeff"}},s={id:"text-dropdown-menu"},p=Object(o["createTextVNode"])("退出登录");var b={__name:"layoutAvatarHeader",setup(e){const t=Object(a["a"])(),c=Object(n["d"])();function b(e){"logOut"===e&&(t.$reset(),t.resetUserToken(),Object(l["d"])(),c.push("/"),Object(d["a"])({type:"success",message:"退出成功"}))}function O(){c.push({name:"productList"})}return Object(u["c"])().then(e=>{200===e.code&&(t.userName=e.data.userName,t.avatarUrl=e.data.avatarUrl)},()=>{Object(d["a"])({type:"error",message:"error"})}),(e,c)=>{const a=Object(o["resolveComponent"])("el-page-header"),n=Object(o["resolveComponent"])("el-avatar"),l=Object(o["resolveComponent"])("el-dropdown-item"),d=Object(o["resolveComponent"])("el-dropdown-menu"),u=Object(o["resolveComponent"])("el-dropdown");return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["unref"])(r["a"]),null,{backIcon:Object(o["withCtx"])(()=>[Object(o["createVNode"])(a,{onBack:O})]),avatar:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,{trigger:"click",onCommand:b},{dropdown:Object(o["withCtx"])(()=>[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("li",i,[Object(o["createElementVNode"])("span",s,Object(o["toDisplayString"])(Object(o["unref"])(t).userName),1)]),Object(o["createVNode"])(l,{command:"logOut"},{default:Object(o["withCtx"])(()=>[p]),_:1})]),_:1})]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(n,{src:Object(o["unref"])(t).avatarUrl},null,8,["src"])]),_:1})]),_:1})}}},O=(c("3016"),c("6dd4")),j=c.n(O);const m=j()(b,[["__scopeId","data-v-315407ac"]]);t["a"]=m},"87a8":function(e,t,c){},ae3c:function(e,t,c){"use strict";c("eac9")},eac9:function(e,t,c){},f059:function(e,t,c){},f64c:function(e,t,c){"use strict";c.r(t);var o=c("3eb2"),r=c("2c28"),a=c("3df8"),n=function(e){return{all:e=e||new Map,on:function(t,c){var o=e.get(t);o?o.push(c):e.set(t,[c])},off:function(t,c){var o=e.get(t);o&&(c?o.splice(o.indexOf(c)>>>0,1):e.set(t,[]))},emit:function(t,c){var o=e.get(t);o&&o.slice().map((function(e){e(c)})),(o=e.get("*"))&&o.slice().map((function(e){e(t,c)}))}}};const l=n();var d=l,u=c("2095"),i=c("5500");const s=e=>(Object(o["pushScopeId"])("data-v-08a90e6d"),e=e(),Object(o["popScopeId"])(),e),p={id:"product-table"},b={id:"product-list"},O={class:"product-item-name",style:{"font-size":"1.5em"}},j={class:"text-product-item-name"},m={class:"product-tag"},f={class:"product-type",style:{"background-color":"#e6f1ff",padding:"2px 8px"}},g={class:"product-active"},v=["onClick"],h=["onClick"],V={class:"table-product-info"},N=s(()=>Object(o["createElementVNode"])("tr",{class:"item-tr-title"},[Object(o["createElementVNode"])("td",null,"产品ID"),Object(o["createElementVNode"])("td",null,"设备数"),Object(o["createElementVNode"])("td",null,"创建时间")],-1)),w={class:"item-tr-label"},y={id:"pagination"};var C={__name:"productTable",props:{productItemDataList:{type:Array,default(){return[]}},itemCount:{type:Number,default(){return 0}}},emits:["turnPage","hasDeleteProduct","editProduct"],setup(e,{emit:t}){const c=e,n=Object(o["ref"])(""),l=Object(i["d"])(),s=Object(o["inject"])("isLoading"),C=Object(o["inject"])("upDateLoading"),k=Object(o["inject"])("upDateShowDrawer");function E(){C(!0),Object(r["b"])({productId:n.value}).then(e=>{200===e.code?(t("hasDeleteProduct"),Object(a["a"])({message:"删除成功",type:"success"})):Object(a["a"])({message:e.message,type:"error"}),C(!1)})}function D(e){x(e),Object(r["e"])({productId:n.value}).then(e=>{200===e.code?(d.emit("upProductDetailData",{data:e.data,title:"编辑产品信息"}),k(!0)):Object(a["a"])({type:"error",message:"获取信息失败"})})}function x(e){n.value=c.productItemDataList[e].productId}function _(e,t){t.target.classList.contains("manage-product-item")||(x(e),l.push(`/product/${n.value}/index`))}return(r,a)=>{const n=Object(o["resolveComponent"])("el-popconfirm"),l=Object(o["resolveComponent"])("el-col"),d=Object(o["resolveComponent"])("el-row"),i=Object(o["resolveComponent"])("el-empty"),C=Object(o["resolveComponent"])("el-pagination"),k=Object(o["resolveDirective"])("loading");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,[Object(o["createElementVNode"])("div",b,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(c.productItemDataList,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:t,class:"item",onClick:e=>_(t,e)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(l,{span:8},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("span",j,Object(o["toDisplayString"])(e.productName),1)]),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",f,Object(o["toDisplayString"])(e.productType),1),Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("span",{class:"edit-product-item manage-product-item",style:{cursor:"pointer"},onClick:e=>D(t)},"编辑",8,v),Object(o["createVNode"])(n,{title:"确认删除?","confirm-button-text":"确认","cancel-button-text":"取消","confirm-button-type":"danger",onConfirm:E},{reference:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",{class:"delete-product-item manage-product-item",style:{cursor:"pointer"},onClick:e=>x(t)},"删除",8,h)]),_:2},1024)])])]),_:2},1024),Object(o["createVNode"])(l,{span:16},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("table",V,[N,Object(o["createElementVNode"])("tr",w,[Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.productId),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.deviceCount),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(Object(o["unref"])(u["a"])(new Date(Date.parse(e.createDate)),"YY-MM-DD")),1)])])]),_:2},1024)]),_:2},1032,["onClick"]))),128)),Object(o["withDirectives"])(Object(o["createVNode"])(i,{description:"暂无产品"},null,512),[[o["vShow"],!c.productItemDataList.length]])]),Object(o["createElementVNode"])("div",y,[Object(o["createVNode"])(C,{background:"",layout:"prev, pager, next",total:e.itemCount,"page-size":3,onCurrentChange:a[0]||(a[0]=e=>{t("turnPage",{page:e,pageSize:3})})},null,8,["total"])])])),[[k,Object(o["unref"])(s)]])}}},k=(c("0114"),c("6dd4")),E=c.n(k);const D=E()(C,[["__scopeId","data-v-08a90e6d"]]);var x=D;const _=Object(o["createElementVNode"])("hr",{color:"#e8eaec"},null,-1),T=Object(o["createElementVNode"])("h3",null,"产品信息",-1),I=Object(o["createElementVNode"])("hr",{color:"#e8eaec"},null,-1),B=Object(o["createElementVNode"])("h3",null,"技术参数",-1),S={style:{flex:"auto"}},A=Object(o["createTextVNode"])("取消"),P=Object(o["createTextVNode"])("确认");var L={__name:"editProductDrawer",emits:["hasAddProduct"],setup(e,{emit:t}){d.on("upProductDetailData",e=>{b(e.data),i(e.title)});const c=Object(o["ref"])(null),n=Object(o["inject"])("isShowDrawer"),l=Object(o["inject"])("upDateShowDrawer"),u=Object(o["inject"])("drawerTitle"),i=Object(o["inject"])("upDateDrawerTitle"),s=Object(o["reactive"])({industryOptions:[],productTypeOptions:[],accessAgreementOptions:[]});Object(o["onMounted"])(()=>{Object(r["d"])().then(e=>{200===e.code&&(s.industryOptions=e.data.industryOptions,s.productTypeOptions=e.data.productTypeOptions,s.accessAgreementOptions=e.data.accessAgreementOptions)})}),Object(o["watch"])(n,e=>{e&&"添加产品"===u.value&&b({})});const p=Object(o["reactive"])({productId:"",productName:"",productIndustry:"",productType:"",productAbout:"",accessNetworks:"",accessAgreement:""}),b=({productId:e="",productName:t="",productIndustry:c="",productType:o="",productAbout:r="",accessNetworks:a="",accessAgreement:n=""})=>{p.productId=e,p.productName=t,p.productIndustry=c,p.productType=o,p.productAbout=r,p.accessNetworks=a,p.accessAgreement=n},O=Object(o["reactive"])({productName:[{required:!0,message:"产品名称不能为空",trigger:"blur"},{min:2,max:15,message:"长度为2-15个字符",trigger:"blur"}],productIndustry:[{required:!0,message:"产品行业不能为空",trigger:"blur"}],productType:[{required:!0,message:"产品类别不能为空",trigger:"blur"}],accessNetworks:[{required:!0,message:"联网方式不能为空",trigger:"blur"}],accessAgreement:[{required:!0,message:"设备接入协议不能为空",trigger:"blur"}]});function j(e){e.validate(c=>{c&&Object(r["a"])(p).then(c=>{if(200===c.code){const c="添加产品"===u.value?"添加成功":"修改成功";Object(a["a"])({message:c,type:"success"}),t("hasAddProduct",!0),l(!1),e.resetFields()}else Object(a["a"])({message:c.message,type:"error"})})})}return(e,t)=>{const r=Object(o["resolveComponent"])("el-input"),a=Object(o["resolveComponent"])("el-form-item"),d=Object(o["resolveComponent"])("el-option"),i=Object(o["resolveComponent"])("el-select"),b=Object(o["resolveComponent"])("el-radio"),m=Object(o["resolveComponent"])("el-radio-group"),f=Object(o["resolveComponent"])("el-form"),g=Object(o["resolveComponent"])("el-button"),v=Object(o["resolveComponent"])("el-drawer");return Object(o["openBlock"])(),Object(o["createBlock"])(v,{modelValue:Object(o["unref"])(n),"onUpdate:modelValue":t[8]||(t[8]=e=>Object(o["isRef"])(n)?n.value=e:null),direction:"rtl"},{header:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(Object(o["unref"])(u)),1),_])]),default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",null,[T,Object(o["createVNode"])(f,{ref_key:"createFrom",ref:c,model:p,"label-position":"top",rules:O},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(a,{label:"产品名称",prop:"productName"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,{modelValue:p.productName,"onUpdate:modelValue":t[0]||(t[0]=e=>p.productName=e),placeholder:"请输入产品名称"},null,8,["modelValue"])]),_:1}),Object(o["createVNode"])(a,{label:"产品行业",prop:"productIndustry"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,{modelValue:p.productIndustry,"onUpdate:modelValue":t[1]||(t[1]=e=>p.productIndustry=e),placeholder:"选择产品行业"},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(s.industryOptions,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:t,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),Object(o["createVNode"])(a,{label:"产品类别",prop:"productType"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,{modelValue:p.productType,"onUpdate:modelValue":t[2]||(t[2]=e=>p.productType=e),placeholder:"选择产品类别"},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(s.productTypeOptions,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:t,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),Object(o["createVNode"])(a,{label:"产品简介:",prop:"productAbout"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,{modelValue:p.productAbout,"onUpdate:modelValue":t[3]||(t[3]=e=>p.productAbout=e),type:"textarea",placeholder:"产品简介",autosize:{minRows:5,maxRows:7}},null,8,["modelValue"])]),_:1}),I,B,Object(o["createVNode"])(a,{label:"联网方式:",prop:"accessNetworks"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{modelValue:p.accessNetworks,"onUpdate:modelValue":t[4]||(t[4]=e=>p.accessNetworks=e)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(b,{label:"蜂窝网络"}),Object(o["createVNode"])(b,{label:"wifi"})]),_:1},8,["modelValue"])]),_:1}),Object(o["createVNode"])(a,{label:"设备接入协议",prop:"accessAgreement"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,{modelValue:p.accessAgreement,"onUpdate:modelValue":t[5]||(t[5]=e=>p.accessAgreement=e),placeholder:"选择接入协议"},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(s.accessAgreementOptions,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:t,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),footer:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",S,[Object(o["createVNode"])(g,{onClick:t[6]||(t[6]=e=>Object(o["unref"])(l)(!1))},{default:Object(o["withCtx"])(()=>[A]),_:1}),Object(o["createVNode"])(g,{type:"primary",onClick:t[7]||(t[7]=e=>j(c.value))},{default:Object(o["withCtx"])(()=>[P]),_:1})])]),_:1},8,["modelValue"])}}};const U=L;var M=U,F=c("84e7");const Y=e=>(Object(o["pushScopeId"])("data-v-36982a08"),e=e(),Object(o["popScopeId"])(),e),G={id:"product"},q={id:"product-info"},z={id:"product-count"},H=Y(()=>Object(o["createElementVNode"])("span",{style:{color:"#747774"}},"产品数量(个)",-1)),$=Object(o["createTextVNode"])("添加产品");var R={__name:"index",setup(e){const t=Object(o["reactive"])([]),c=Object(o["ref"])(0),n=Object(o["ref"])(!1),l=Object(o["ref"])(!1),d=Object(o["ref"])("");Object(o["onMounted"])(()=>{O()});const u=e=>{n.value=e};Object(o["provide"])("isLoading",n),Object(o["provide"])("upDateLoading",u);const i=e=>{l.value=e};Object(o["provide"])("isShowDrawer",l),Object(o["provide"])("upDateShowDrawer",i);const s=e=>{d.value=e};function p(){O()}function b(e){O(e)}function O(e={page:1,pageSize:3}){u(!0),Object(r["f"])(e).then(e=>{c.value=e.data.total,t.splice(0),t.push(...e.data.products),u(!1)},e=>{Object(a["a"])({message:"获取列表失败",type:"error"})})}function j(){i(!0),s("添加产品")}function m(e){console.log("edit!",e)}return Object(o["provide"])("drawerTitle",d),Object(o["provide"])("upDateDrawerTitle",s),(e,r)=>{const a=Object(o["resolveComponent"])("el-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",G,[Object(o["createVNode"])(Object(o["unref"])(F["a"])),Object(o["createElementVNode"])("div",q,[Object(o["createElementVNode"])("div",z,[H,Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(c.value),1)]),Object(o["createVNode"])(a,{id:"button-add-product",type:"primary",onClick:j},{default:Object(o["withCtx"])(()=>[$]),_:1})]),Object(o["createVNode"])(Object(o["unref"])(M),{onHasAddProduct:p}),Object(o["createVNode"])(Object(o["unref"])(x),{"product-item-data-list":t,"item-count":c.value,"is-loading":n.value,onTurnPage:b,onHasDeleteProduct:O,onEditProduct:m},null,8,["product-item-data-list","item-count","is-loading"])])}}};c("ae3c");const J=E()(R,[["__scopeId","data-v-36982a08"]]);t["default"]=J}}]);
//# sourceMappingURL=chunk-c3d27e0a.e1b08bf2.js.map